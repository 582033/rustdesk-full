import{u as H}from"./index-B1Bs_yz0.js";import{_ as J,T as a}from"../entry/index-Czm67r7X.js";import{l as A,aa as K,w as z,an as i,at as O,c as g,o as r,e as l,Y as t,u as e,P as N,ah as D,b as x,a0 as m,a1 as c,Z as W,a as b,U as L,A as X}from"./_@vue-DEM3y_BF.js";import"./__vendor-BGruaAdM.js";import"./collection-CALyNR1w.js";import"./_element-plus-T6dmKOyC.js";import"./_@element-plus-CvluYIrs.js";import"./_@popperjs-DB1lLFnh.js";import"./_axios-BtuGy7By.js";const ee={key:0},le={key:1},oe={class:"colors"},te={style:{"background-color":"var(--tag-bg-color)"},class:"colorbox"},ae={class:"colors"},ne={style:{"background-color":"var(--tag-bg-color)"},class:"colorbox"},ie={__name:"index",setup(de){const{listRes:k,listQuery:d,getList:C,handlerQuery:U,del:R,formVisible:f,formData:s,toEdit:F,toAdd:M,submit:S,activeChange:q,currentColor:E,collectionListRes:h,getCollectionList:$,collectionListResForUpdate:I,getCollectionListForUpdate:P}=H("my");return A(C),K(C),z(()=>d.page,C),z(()=>d.page_size,U),A($),A(P),(se,n)=>{const v=i("el-option"),w=i("el-select"),p=i("el-form-item"),_=i("el-button"),B=i("el-form"),y=i("el-card"),u=i("el-table-column"),Q=i("el-table"),T=i("el-pagination"),j=i("el-input"),Y=i("el-color-picker"),Z=i("el-dialog"),G=O("loading");return r(),g("div",null,[l(y,{class:"list-query",shadow:"hover"},{default:t(()=>[l(B,{inline:"","label-width":"120px"},{default:t(()=>[l(p,{label:e(a)("AddressBookName")},{default:t(()=>[l(w,{modelValue:e(d).collection_id,"onUpdate:modelValue":n[0]||(n[0]=o=>e(d).collection_id=o),clearable:""},{default:t(()=>[l(v,{value:0,label:e(a)("MyAddressBook")},null,8,["label"]),(r(!0),g(N,null,D(e(h).list,o=>(r(),x(v,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(p,null,{default:t(()=>[l(_,{type:"primary",onClick:e(U)},{default:t(()=>[m(c(e(a)("Filter")),1)]),_:1},8,["onClick"]),l(_,{type:"danger",onClick:e(M)},{default:t(()=>[m(c(e(a)("Add")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),l(y,{class:"list-body",shadow:"hover"},{default:t(()=>[W((r(),x(Q,{data:e(k).list,border:""},{default:t(()=>[l(u,{prop:"id",label:"ID",align:"center"}),l(u,{prop:"collection_id",label:e(a)("AddressBook"),align:"center",width:"150"},{default:t(({row:o})=>[o.collection_id===0?(r(),g("span",ee,c(e(a)("MyAddressBook")),1)):(r(),g("span",le,c(e(h).list.find(V=>V.id===o.collection_id)?.name),1))]),_:1},8,["label"]),l(u,{prop:"name",label:e(a)("Name"),align:"center"},null,8,["label"]),l(u,{prop:"color",label:e(a)("Color"),align:"center"},{default:t(({row:o})=>[b("div",oe,[b("div",te,[b("div",{style:L({backgroundColor:o.color}),class:"dot"},null,4)])])]),_:1},8,["label"]),l(u,{prop:"created_at",label:e(a)("CreatedAt"),align:"center"},null,8,["label"]),l(u,{prop:"updated_at",label:e(a)("UpdatedAt"),align:"center"},null,8,["label"]),l(u,{label:e(a)("Actions"),align:"center"},{default:t(({row:o})=>[l(_,{onClick:V=>e(F)(o)},{default:t(()=>[m(c(e(a)("Edit")),1)]),_:2},1032,["onClick"]),l(_,{type:"danger",onClick:V=>e(R)(o)},{default:t(()=>[m(c(e(a)("Delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[G,e(k).loading]])]),_:1}),l(y,{class:"list-page",shadow:"hover"},{default:t(()=>[l(T,{background:"",layout:"prev, pager, next, sizes, jumper","page-sizes":[10,20,50,100],"page-size":e(d).page_size,"onUpdate:pageSize":n[1]||(n[1]=o=>e(d).page_size=o),"current-page":e(d).page,"onUpdate:currentPage":n[2]||(n[2]=o=>e(d).page=o),total:e(k).total},null,8,["page-size","current-page","total"])]),_:1}),l(Z,{modelValue:e(f),"onUpdate:modelValue":n[7]||(n[7]=o=>X(f)?f.value=o:null),title:e(s).id?e(a)("Update"):e(a)("Create"),width:"800"},{default:t(()=>[l(B,{class:"dialog-form",ref:"form",model:e(s),"label-width":"120px"},{default:t(()=>[l(p,{label:e(a)("AddressBookName")},{default:t(()=>[l(w,{modelValue:e(s).collection_id,"onUpdate:modelValue":n[3]||(n[3]=o=>e(s).collection_id=o),clearable:""},{default:t(()=>[l(v,{value:0,label:e(a)("MyAddressBook")},null,8,["label"]),(r(!0),g(N,null,D(e(I).list,o=>(r(),x(v,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(p,{label:e(a)("Name"),prop:"name",required:""},{default:t(()=>[l(j,{modelValue:e(s).name,"onUpdate:modelValue":n[4]||(n[4]=o=>e(s).name=o)},null,8,["modelValue"])]),_:1},8,["label"]),l(p,{label:e(a)("Color"),prop:"color",required:""},{default:t(()=>[l(Y,{modelValue:e(s).color,"onUpdate:modelValue":n[5]||(n[5]=o=>e(s).color=o),"show-alpha":"",onActiveChange:e(q)},null,8,["modelValue","onActiveChange"]),b("div",ae,[b("div",ne,[b("div",{style:L({backgroundColor:e(E)}),class:"dot"},null,4)])])]),_:1},8,["label"]),l(p,null,{default:t(()=>[l(_,{onClick:n[6]||(n[6]=o=>f.value=!1)},{default:t(()=>[m(c(e(a)("Cancel")),1)]),_:1}),l(_,{onClick:e(S),type:"primary"},{default:t(()=>[m(c(e(a)("Submit")),1)]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},ve=J(ie,[["__scopeId","data-v-f2097c17"]]);export{ve as default};
