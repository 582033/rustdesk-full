import{x,r as y,c as C,a as _,e as o,Y as l,an as u,o as U,u as n,af as q,a0 as g,a1 as w}from"./_@vue-DEM3y_BF.js";import{_ as S,u as k,T as s,a as E,b as N,d as R}from"../entry/index-Czm67r7X.js";import{ab as B}from"./__vendor-BGruaAdM.js";import{b as T}from"./_element-plus-T6dmKOyC.js";import"./_axios-BtuGy7By.js";import"./_@element-plus-CvluYIrs.js";import"./_@popperjs-DB1lLFnh.js";const h={class:"login-container"},D={class:"login-card"},K={__name:"index",setup(L){const m=B(),b=k(),a=x({username:"",email:"",password:"",confirm_password:""}),V={username:[{required:!0,message:s("ParamRequired",{param:s("Username")}),trigger:"blur"}],password:[{required:!0,message:s("ParamRequired",{param:s("Password")}),trigger:"blur"}],confirm_password:[{required:!0,message:s("ParamRequired",{param:s("ConfirmPassword")}),trigger:"blur"},{validator:(c,e,r)=>{e!==a.password?r(new Error(s("PasswordNotMatchConfirmPassword"))):r()},trigger:"blur"}]},d=y(null),p=async()=>{if(!await d.value.validate().catch(r=>!1))return;const e=await N(a).catch(r=>!1);e&&(b.saveUserData(e.data),R().loadConfig(),T.success("Submit"),m.push("/"))},v=()=>{m.push("/login")};return(c,e)=>{const r=u("el-input"),i=u("el-form-item"),f=u("el-button"),P=u("el-form");return U(),C("div",h,[_("div",D,[e[4]||(e[4]=_("img",{src:E,alt:"logo",class:"login-logo"},null,-1)),o(P,{ref_key:"f",ref:d,model:a,"label-position":"top",class:"login-form",rules:V},{default:l(()=>[o(i,{label:n(s)("Username"),prop:"username"},{default:l(()=>[o(r,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=t=>a.username=t),class:"login-input"},null,8,["modelValue"])]),_:1},8,["label"]),o(i,{label:n(s)("Email"),prop:"email"},{default:l(()=>[o(r,{modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=t=>a.email=t),class:"login-input"},null,8,["modelValue"])]),_:1},8,["label"]),o(i,{label:n(s)("Password"),prop:"password"},{default:l(()=>[o(r,{modelValue:a.password,"onUpdate:modelValue":e[2]||(e[2]=t=>a.password=t),type:"password","show-password":"",class:"login-input"},null,8,["modelValue"])]),_:1},8,["label"]),o(i,{label:n(s)("ConfirmPassword"),prop:"confirm_password"},{default:l(()=>[o(r,{modelValue:a.confirm_password,"onUpdate:modelValue":e[3]||(e[3]=t=>a.confirm_password=t),type:"password",onKeyup:q(p,["enter","native"]),"show-password":"",class:"login-input"},null,8,["modelValue"])]),_:1},8,["label"]),o(i,{label:""},{default:l(()=>[o(f,{onClick:p,class:"login-button",type:"success"},{default:l(()=>[g(w(n(s)("Submit")),1)]),_:1}),o(f,{onClick:v,class:"login-button"},{default:l(()=>[g(w(n(s)("ToLogin")),1)]),_:1})]),_:1})]),_:1},8,["model"])])])}}},G=S(K,[["__scopeId","data-v-560059b1"]]);export{G as default};
