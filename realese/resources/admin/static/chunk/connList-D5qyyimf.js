import{u as U}from"./reponsitories-DTEM92T6.js";import{T as t}from"../entry/index-Czm67r7X.js";import{l as A,aa as E,w as k,r as N,an as i,at as I,c as L,o as u,e as l,Y as a,u as e,a0 as s,a1 as d,Z as Q,b as h}from"./_@vue-DEM3y_BF.js";import"./time-B3DnmeFu.js";import"./file-Dmzv2BFm.js";import"./_element-plus-T6dmKOyC.js";import"./__vendor-BGruaAdM.js";import"./_@element-plus-CvluYIrs.js";import"./_@popperjs-DB1lLFnh.js";import"./_axios-BtuGy7By.js";const W={__name:"connList",setup(R){const{listRes:_,listQuery:r,getList:m,handlerQuery:w,del:x,batchdel:z,toExport:V}=U();A(m),E(m),k(()=>r.page,m),k(()=>r.page_size,w);const g=N([]),D=y=>{g.value=y},B=()=>{g.value.length!==0&&z(g.value)};return(y,p)=>{const v=i("el-input"),b=i("el-form-item"),c=i("el-button"),F=i("el-form"),f=i("el-card"),o=i("el-table-column"),C=i("el-tag"),P=i("el-table"),S=i("el-pagination"),T=I("loading");return u(),L("div",null,[l(f,{class:"list-query",shadow:"hover"},{default:a(()=>[l(F,{inline:"","label-width":"80px"},{default:a(()=>[l(b,{label:e(t)("Peer")},{default:a(()=>[l(v,{modelValue:e(r).peer_id,"onUpdate:modelValue":p[0]||(p[0]=n=>e(r).peer_id=n),clearable:""},null,8,["modelValue"])]),_:1},8,["label"]),l(b,{label:e(t)("FromPeer")},{default:a(()=>[l(v,{modelValue:e(r).from_peer,"onUpdate:modelValue":p[1]||(p[1]=n=>e(r).from_peer=n),clearable:""},null,8,["modelValue"])]),_:1},8,["label"]),l(b,null,{default:a(()=>[l(c,{type:"primary",onClick:e(w)},{default:a(()=>[s(d(e(t)("Filter")),1)]),_:1},8,["onClick"]),l(c,{type:"danger",onClick:B},{default:a(()=>[s(d(e(t)("BatchDelete")),1)]),_:1}),l(c,{type:"success",onClick:e(V)},{default:a(()=>[s(d(e(t)("Export")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),l(f,{class:"list-body",shadow:"hover"},{default:a(()=>[Q((u(),h(P,{data:e(_).list,border:"",onSelectionChange:D},{default:a(()=>[l(o,{type:"selection",align:"center",width:"50"}),l(o,{prop:"id",label:"ID",align:"center",width:"100"}),l(o,{label:e(t)("Peer"),prop:"peer_id",align:"center",width:"120"},null,8,["label"]),l(o,{label:e(t)("FromPeer"),prop:"from_peer",align:"center",width:"120"},null,8,["label"]),l(o,{label:e(t)("FromName"),prop:"from_name",align:"center",width:"120"},null,8,["label"]),l(o,{label:e(t)("Ip"),prop:"ip",align:"center",width:"120"},null,8,["label"]),l(o,{pop:"type",label:e(t)("Type"),align:"center",width:"120"},{default:a(({row:n})=>[n.type===1?(u(),h(C,{key:0,type:"warning"},{default:a(()=>[s(d(e(t)("File")),1)]),_:1})):(u(),h(C,{key:1},{default:a(()=>[s(d(e(t)("Common")),1)]),_:1}))]),_:1},8,["label"]),l(o,{prop:"uuid",label:"uuid",align:"center",width:"120","show-overflow-tooltip":""}),l(o,{prop:"created_at",label:e(t)("CreatedAt"),align:"center"},null,8,["label"]),l(o,{label:e(t)("CloseTime"),prop:"close_time",align:"center"},null,8,["label"]),l(o,{label:e(t)("Actions"),align:"center",width:"150"},{default:a(({row:n})=>[l(c,{type:"danger",onClick:j=>e(x)(n)},{default:a(()=>[s(d(e(t)("Delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[T,e(_).loading]])]),_:1}),l(f,{class:"list-page",shadow:"hover"},{default:a(()=>[l(S,{background:"",layout:"prev, pager, next, sizes, jumper","page-sizes":[10,20,50,100],"page-size":e(r).page_size,"onUpdate:pageSize":p[2]||(p[2]=n=>e(r).page_size=n),"current-page":e(r).page,"onUpdate:currentPage":p[3]||(p[3]=n=>e(r).page=n),total:e(_).total},null,8,["page-size","current-page","total"])]),_:1})])}}};export{W as default};
