import{d as S,an as s,c as k,o as i,ah as V,b as d,Y as o,a0 as A,a1 as v,P as b,r as B,l as E,w as H,_ as z,a as h,$ as P,m as y,e as a,u as g,A as Y,U as K,a3 as j,az as q}from"./_@vue-DEM3y_BF.js";import{_ as $,T as L,d as M,e as J,u as Q}from"../entry/index-Czm67r7X.js";import{a8 as X,aa as F,ab as Z,ac as x}from"./__vendor-BGruaAdM.js";import{_ as ee}from"./changePwdDialog-wXtFvycr.js";import{R as te,S as ne}from"./_@element-plus-CvluYIrs.js";import"./_element-plus-T6dmKOyC.js";import"./_@popperjs-DB1lLFnh.js";import"./_axios-BtuGy7By.js";const G=X({id:"tags",state:()=>({tags:[],cached:[]}),actions:{initTags(){},addTag(e){const t=this.tags;t.find(n=>n.name===e.name)?(t.forEach(n=>n.active=!1),t.find(n=>n.name===e.name).active=!0):(t.forEach(n=>n.active=!1),e.meta?.keepAlive&&this.addCachedTag(e.name),t.push({name:e.name,path:e.fullPath,title:e.meta?.title||e.name,active:!0,closeable:!0,keepAlive:e.meta?.keepAlive})),this.$patch({tags:t})},removeTag(e){let t=this.tags;if(t.find(n=>n.name===e.name)){const n=t.findIndex(c=>c.name===e.name);n>-1&&(t[n].keepAlive&&this.removeCachedTag(t[n].name),t.splice(n,1))}this.$patch({tags:t})},addCachedTag(e){this.cached.includes(e)||this.cached.push(e)},removeCachedTag(e){this.cached.includes(e)&&this.cached.splice(this.cached.indexOf(e),1)}}}),oe=S({name:"Index",setup(){const e=B([]),t=G(),n=F(),c=Z();e.value=t.tags;const _=l=>{!l.meta?.hide&&l.name&&t.addTag(l)},f=l=>{t.removeTag(l),l.active&&u()},u=()=>{e.value.length&&c.push({name:e.value[e.value.length-1].name})},r=()=>{t.tags.length||t.initTags(),_(n)},p=l=>{l.name!==n.name&&c.push({name:l.name})};return E(r),H(n,l=>{_(l)}),{tags:e,addTag:_,close:f,toLastTag:u,toTag:p,T:L}}});function ae(e,t,n,c,_,f){const u=s("el-tag");return i(!0),k(b,null,V(e.tags,(r,p)=>(i(),d(u,{key:r.name,class:"tag",closable:r.closeable,onClose:l=>e.close(r),onClick:l=>e.toTag(r),type:r.active?"primary":"info",effect:r.active?"dark":"plain"},{default:o(()=>[A(v(e.T(r.title)),1)]),_:2},1032,["closable","onClose","onClick","type","effect"]))),128)}const N=$(oe,[["render",ae],["__scopeId","data-v-44056da1"]]),se=S({name:"MenuItem",props:{route:{}},mounted(){},setup(e){return{parseRoute:n=>n.children&&n.children.filter(c=>!c.meta?.hide).length===1?n.children.filter(c=>!c.meta?.hide)[0]:n,T:L}}});function le(e,t,n,c,_,f){const u=s("el-icon"),r=s("menu-item"),p=s("el-sub-menu"),l=s("el-menu-item");return e.route.children&&e.route.children.filter(m=>!m.meta?.hide).length>1&&e.route.children.some(m=>!m.meta?.hide)?(i(),d(p,{key:e.route.name,index:e.route.name},{title:o(()=>[e.route.meta?.icon?(i(),d(u,{key:0},{default:o(()=>[(i(),d(P(`el-icon-${e.route.meta.icon}`)))]),_:1})):z("",!0),h("span",null,v(e.T(e.route.meta?.title)||e.T(e.route.name)),1)]),default:o(()=>[(i(!0),k(b,null,V(e.route.children,(m,w)=>(i(),d(r,{route:m,key:m.name},null,8,["route"]))),128))]),_:1},8,["index"])):e.parseRoute(e.route).meta?.hide?z("",!0):(i(),d(l,{key:1,route:e.parseRoute(e.route),index:e.parseRoute(e.route).name},{default:o(()=>[e.parseRoute(e.route).meta?.icon?(i(),d(u,{key:0},{default:o(()=>[(i(),d(P(`el-icon-${e.parseRoute(e.route).meta.icon}`)))]),_:1})):z("",!0),h("span",null,v(e.T(e.parseRoute(e.route).meta?.title)||e.T(e.parseRoute(e.route).name)),1)]),_:1},8,["route","index"]))}const ie=$(se,[["render",le]]),ce=S({name:"Menu",created(){},components:{MenuItem:ie},setup(){const e=B([]),t=F(),n=M(),c=y(()=>n.setting.sideIsCollapse),_=y(()=>t.name);return e.value=J().routes,{routes:e,activeIndex:_,isCollapse:c}}});function re(e,t,n,c,_,f){const u=s("menu-item"),r=s("el-menu");return i(),d(r,{class:"menus",collapse:e.isCollapse,"default-active":e.activeIndex,"background-color":"#2d3a4b","text-color":"#fff","active-text-color":"#409eff",router:""},{default:o(()=>[(i(!0),k(b,null,V(e.routes,(p,l)=>(i(),d(u,{key:p.name,route:p},null,8,["route"]))),128))]),_:1},8,["collapse","default-active"])}const O=$(ce,[["render",re],["__scopeId","data-v-a09e873f"]]),de=S({name:"GAside",components:{Menus:O}});function ue(e,t,n,c,_,f){const u=s("menus"),r=s("el-scrollbar");return i(),d(r,{class:"scroll-sidebar",height:"100vh"},{default:o(()=>[a(u)]),_:1})}const pe=$(de,[["render",ue],["__scopeId","data-v-5791ad1c"]]),me={class:"setting"},_e={class:"menu-item"},fe={class:"title"},he={class:"nickname"},ge={__name:"index",setup(e){const t=Q(),n=t,c=M(),_=()=>{t.logout(),window.location.reload()},f=B(!1),u=()=>{f.value=!0},r=l=>{c.changeLang(l)},p=x();return(l,m)=>{const w=s("el-icon"),I=s("el-switch"),C=s("el-dropdown-item"),R=s("el-dropdown-menu"),W=s("el-dropdown"),U=s("el-icon-arrow-down");return i(),k("div",me,[h("div",_e,[a(I,{modelValue:g(p),"onUpdate:modelValue":m[0]||(m[0]=T=>Y(p)?p.value=T:null),style:{"--el-switch-on-color":"#18222c"}},{"active-action":o(()=>[a(w,null,{default:o(()=>[a(g(ne))]),_:1})]),"inactive-action":o(()=>[a(w,null,{default:o(()=>[a(g(te),{color:"#000"})]),_:1})]),_:1},8,["modelValue"])]),a(W,{class:"menu-item"},{dropdown:o(()=>[a(R,null,{default:o(()=>[(i(!0),k(b,null,V(g(c).setting.langs,(T,D)=>(i(),d(C,{onClick:Ie=>r(D),key:D},{default:o(()=>[A(v(T.name),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:o(()=>[m[2]||(m[2]=h("div",{class:"title"},[h("i",{class:"el-icon el-tooltip__trigger",style:{"font-size":"24px"}},[h("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},[h("path",{fill:"currentColor",d:"m18.5 10l4.4 11h-2.155l-1.201-3h-4.09l-1.199 3h-2.154L16.5 10h2zM10 2v2h6v2h-1.968a18.222 18.222 0 0 1-3.62 6.301a14.864 14.864 0 0 0 2.336 1.707l-.751 1.878A17.015 17.015 0 0 1 9 13.725a16.676 16.676 0 0 1-6.201 3.548l-.536-1.929a14.7 14.7 0 0 0 5.327-3.042A18.078 18.078 0 0 1 4.767 8h2.24A16.032 16.032 0 0 0 9 10.877a16.165 16.165 0 0 0 2.91-4.876L2 6V4h6V2h2zm7.5 10.885L16.253 16h2.492L17.5 12.885z"})])])],-1))]),_:1}),a(W,{class:"menu-item"},{dropdown:o(()=>[a(R,null,{default:o(()=>[a(C,{onClick:u},{default:o(()=>[A(v(g(L)("ChangePassword")),1)]),_:1}),a(C,{onClick:_},{default:o(()=>[A(v(g(L)("Logout")),1)]),_:1})]),_:1})]),default:o(()=>[h("div",fe,[h("span",he,v(g(n).username),1),a(w,null,{default:o(()=>[a(U)]),_:1})])]),_:1}),a(ee,{visible:f.value,"onUpdate:visible":m[1]||(m[1]=T=>f.value=T)},null,8,["visible"])])}}},ve=$(ge,[["__scopeId","data-v-557678d5"]]),$e=S({name:"LayerHeader",created(){},components:{HeaderMenu:O,Setting:ve,GTags:N},watch:{},setup(e){const t=M();return{setting:y(()=>t.setting),expandOrFoldSlider:()=>{t.sideCollapse()}}}}),we={class:"header-logo"},ke=["src"],Ce={class:"title"};function Te(e,t,n,c,_,f){const u=s("el-icon-expand"),r=s("el-icon-fold"),p=s("el-icon"),l=s("Setting");return i(),k(b,null,[a(p,{class:"ex-icon",onClick:e.expandOrFoldSlider},{default:o(()=>[e.setting.sideIsCollapse?(i(),d(u,{key:0})):(i(),d(r,{key:1}))]),_:1},8,["onClick"]),h("div",we,[h("img",{src:e.setting.logo,alt:"",class:"logo"},null,8,ke),h("div",Ce,v(e.setting.title),1)]),a(l)],64)}const ye=$($e,[["render",Te],["__scopeId","data-v-3931c2d3"]]),Se={class:"header-tags"},be={__name:"index",setup(e){const t=M(),n=G(),c=y(()=>t.setting.locale.sideBarWidth),_=y(()=>t.setting.sideIsCollapse?"64px":"var(--sideBarWidth)"),f=B([]);return f.value=n.cached,(u,r)=>{const p=s("el-aside"),l=s("el-header"),m=s("router-view"),w=s("el-main"),I=s("el-container"),C=s("el-config-provider");return i(),d(C,{locale:g(t).setting.locale.value},{default:o(()=>[a(I,{style:K({"--sideBarWidth":c.value})},{default:o(()=>[a(p,{width:_.value,class:"app-left"},{default:o(()=>[a(pe)]),_:1},8,["width"]),a(I,{class:"app-container"},{default:o(()=>[a(l,{class:"app-header"},{default:o(()=>[a(ye)]),_:1}),h("div",Se,[a(N)]),a(w,{class:"app-main"},{default:o(()=>[a(m,null,{default:o(({Component:R})=>[a(j,{mode:"out-in",name:"el-fade-in-linear"},{default:o(()=>[(i(),d(q,{include:f.value},[(i(),d(P(R)))],1032,["include"]))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["locale"])}}},We=$(be,[["__scopeId","data-v-7221956d"]]);export{We as default};
