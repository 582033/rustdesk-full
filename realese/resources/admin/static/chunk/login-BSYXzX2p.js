import{i as y,c as k}from"./oauth-BZ1Fh4vz.js";import{aa as x,ab as I}from"./__vendor-BGruaAdM.js";import{_ as N,T as o}from"../entry/index-Czm67r7X.js";import{b as B}from"./_element-plus-T6dmKOyC.js";import{r as h,c as O,e as t,Y as e,an as n,o as b,a as _,a0 as u,a1 as a,u as s,b as S,_ as V}from"./_@vue-DEM3y_BF.js";import"./_axios-BtuGy7By.js";import"./_@element-plus-CvluYIrs.js";import"./_@popperjs-DB1lLFnh.js";const D={class:"oauth"},T={class:"impt"},z={class:"impt"},A={__name:"login",setup(E){const r=h({}),v=x();I();const d=v.params?.code;(async()=>{const c=await y({code:d}).catch(i=>!1);c&&(r.value=c.data)})();const m=h(0),g=async()=>{await k({code:d}).catch(i=>!1)&&(m.value=1,B.success(o("OperationSuccessAndCloseAfter3Seconds")),setTimeout(i=>{f()},3e3))},f=()=>{window.close()};return(c,i)=>{const l=n("el-form-item"),p=n("el-button"),w=n("el-form"),C=n("el-card");return b(),O("div",D,[t(C,{class:"card"},{default:e(()=>[_("h2",null,a(s(o)("OauthLogining")),1),t(w,{class:"info","label-width":"100px"},{default:e(()=>[t(l,{label:s(o)("Device")},{default:e(()=>[_("div",T,a(r.value.device_name),1)]),_:1},8,["label"]),t(l,{label:"ID"},{default:e(()=>[_("div",z,a(r.value.id),1)]),_:1}),t(l,{"label-width":"0"},{default:e(()=>[m.value?V("",!0):(b(),S(p,{key:0,style:{width:"100%"},type:"success",size:"large",onClick:g},{default:e(()=>[u(a(s(o)("ConfirmOauth")),1)]),_:1}))]),_:1}),t(l,{"label-width":"0"},{default:e(()=>[t(p,{style:{width:"100%"},size:"large",onClick:f},{default:e(()=>[u(a(s(o)("Close")),1)]),_:1})]),_:1})]),_:1}),u(" "+a(s(o)("OauthCloseNote")),1)]),_:1})])}}},J=N(A,[["__scopeId","data-v-4b4bb7e4"]]);export{J as default};
