import{u as A}from"./log-rc-rtPjW.js";import{_ as P,T as r}from"../entry/index-Czm67r7X.js";import{l as U,aa as N,w as h,r as Q,an as n,at as R,c as T,o as v,e,Y as a,u as t,a0 as s,a1 as c,Z as V,b as j}from"./_@vue-DEM3y_BF.js";import"./peer-DzPg3Mq6.js";import"./peer-D9oS7b6H.js";import"./file-Dmzv2BFm.js";import"./_element-plus-T6dmKOyC.js";import"./__vendor-BGruaAdM.js";import"./_@element-plus-CvluYIrs.js";import"./_@popperjs-DB1lLFnh.js";import"./_axios-BtuGy7By.js";const q={__name:"index",setup(E){const{listRes:d,listQuery:i,getList:_,handlerQuery:b,del:w,batchdel:y}=A("my");U(_),N(_),h(()=>i.page,_),h(()=>i.page_size,b);const u=Q([]),C=m=>{u.value=m},k=()=>{u.value.length!==0&&y(u.value)};return(m,p)=>{const g=n("el-button"),x=n("el-form-item"),z=n("el-form"),f=n("el-card"),l=n("el-table-column"),D=n("el-table"),B=n("el-pagination"),S=R("loading");return v(),T("div",null,[e(f,{class:"list-query",shadow:"hover"},{default:a(()=>[e(z,{inline:"","label-width":"80px"},{default:a(()=>[e(x,null,{default:a(()=>[e(g,{type:"primary",onClick:t(b)},{default:a(()=>[s(c(t(r)("Filter")),1)]),_:1},8,["onClick"]),e(g,{type:"danger",onClick:k},{default:a(()=>[s(c(t(r)("BatchDelete")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(f,{class:"list-body",shadow:"hover"},{default:a(()=>[V((v(),j(D,{data:t(d).list,border:"",onSelectionChange:C},{default:a(()=>[e(l,{type:"selection",align:"center",width:"50"}),e(l,{prop:"client",label:"client",align:"center",width:"120"}),e(l,{prop:"peer.id",label:t(r)("Peer"),align:"center"},{default:a(({row:o})=>[s(c(o.device_id?o.device_id:m.peer?.id),1)]),_:1},8,["label"]),e(l,{prop:"uuid",label:"uuid",align:"center"}),e(l,{prop:"ip",label:"ip",align:"center",width:"150"}),e(l,{prop:"type",label:"type",align:"center",width:"100"}),e(l,{prop:"platform",label:"Platform/UA",align:"center",width:"120","show-overflow-tooltip":""}),e(l,{prop:"created_at",label:t(r)("CreatedAt"),align:"center"},null,8,["label"]),e(l,{label:t(r)("Actions"),align:"center",width:"400"},{default:a(({row:o})=>[e(g,{type:"danger",onClick:F=>t(w)(o)},{default:a(()=>[s(c(t(r)("Delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[S,t(d).loading]])]),_:1}),e(f,{class:"list-page",shadow:"hover"},{default:a(()=>[e(B,{background:"",layout:"prev, pager, next, sizes, jumper","page-sizes":[10,20,50,100],"page-size":t(i).page_size,"onUpdate:pageSize":p[0]||(p[0]=o=>t(i).page_size=o),"current-page":t(i).page,"onUpdate:currentPage":p[1]||(p[1]=o=>t(i).page=o),total:t(d).total},null,8,["page-size","current-page","total"])]),_:1})])}}},W=P(q,[["__scopeId","data-v-4b7dd8ff"]]);export{W as default};
