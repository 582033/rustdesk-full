import{l as F,r as L,u as O,c as P}from"./group-DeA26ZkG.js";import{T as e}from"../entry/index-Czm67r7X.js";import{c as Q,b as V}from"./_element-plus-T6dmKOyC.js";import{x as k,l as j,aa as I,w,r as R,an as i,at as Y,c as v,o as y,e as a,Y as t,a0 as m,a1 as p,u as o,Z,b as H,P as J,ah as K,a as W}from"./_@vue-DEM3y_BF.js";import"./__vendor-BGruaAdM.js";import"./_axios-BtuGy7By.js";import"./_@element-plus-CvluYIrs.js";import"./_@popperjs-DB1lLFnh.js";const X={key:0},ee={key:1},ae={style:{"font-size":"12px",color:"#999"}},ce={__name:"index",setup(te){const u=k({list:[],total:0,loading:!1}),d=k({page:1,page_size:10}),_=async()=>{u.loading=!0;const r=await F(d).catch(n=>!1);u.loading=!1,r&&(u.list=r.data.list,u.total=r.data.total)},h=()=>{d.page===1?_():d.page=1},z=async r=>{if(!await Q.confirm(e("Confirm?",{param:e("Delete")}),{confirmButtonText:e("Confirm"),cancelButtonText:e("Cancel"),type:"warning"}).catch(g=>!1))return!1;await L({id:r.id}).catch(g=>!1)&&(V.success(e("OperationSuccess")),_())};j(_),I(_),w(()=>d.page,_),w(()=>d.page_size,h);const S=[{label:e("CommonGroup"),value:1,note:e("CommonGroupNote")},{label:e("SharedGroup"),value:2,note:e("SharedGroupNote")}],f=R(!1),s=k({id:0,name:"",type:1}),B=r=>{f.value=!0,s.id=r.id,s.name=r.name,s.type=r.type},D=()=>{f.value=!0,s.id=0,s.name="",s.type=1},N=async()=>{await(s.id?O:P)(s).catch(c=>!1)&&(V.success(e("OperationSuccess")),f.value=!1,_())};return(r,n)=>{const c=i("el-button"),g=i("el-form-item"),x=i("el-form"),C=i("el-card"),b=i("el-table-column"),T=i("el-table"),U=i("el-pagination"),A=i("el-input"),G=i("el-radio"),E=i("el-radio-group"),q=i("el-dialog"),M=Y("loading");return y(),v("div",null,[a(C,{class:"list-query",shadow:"hover"},{default:t(()=>[a(x,{inline:"","label-width":"80px"},{default:t(()=>[a(g,null,{default:t(()=>[a(c,{type:"primary",onClick:h},{default:t(()=>[m(p(o(e)("Filter")),1)]),_:1}),a(c,{type:"danger",onClick:D},{default:t(()=>[m(p(o(e)("Add")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(C,{class:"list-body",shadow:"hover"},{default:t(()=>[Z((y(),H(T,{data:u.list,border:""},{default:t(()=>[a(b,{prop:"id",label:"ID",align:"center"}),a(b,{prop:"name",label:o(e)("Name"),align:"center"},null,8,["label"]),a(b,{prop:"type",label:o(e)("Type"),align:"center"},{default:t(({row:l})=>[l.type===1?(y(),v("span",X,p(o(e)("CommonGroup")),1)):(y(),v("span",ee,p(o(e)("SharedGroup")),1))]),_:1},8,["label"]),a(b,{prop:"created_at",label:o(e)("CreatedAt"),align:"center"},null,8,["label"]),a(b,{prop:"updated_at",label:o(e)("UpdatedAt"),align:"center"},null,8,["label"]),a(b,{label:o(e)("Actions"),align:"center"},{default:t(({row:l})=>[a(c,{onClick:$=>B(l)},{default:t(()=>[m(p(o(e)("Edit")),1)]),_:2},1032,["onClick"]),a(c,{type:"danger",onClick:$=>z(l)},{default:t(()=>[m(p(o(e)("Delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[M,u.loading]])]),_:1}),a(C,{class:"list-page",shadow:"hover"},{default:t(()=>[a(U,{background:"",layout:"prev, pager, next, sizes, jumper","page-sizes":[10,20,50,100],"page-size":d.page_size,"onUpdate:pageSize":n[0]||(n[0]=l=>d.page_size=l),"current-page":d.page,"onUpdate:currentPage":n[1]||(n[1]=l=>d.page=l),total:u.total},null,8,["page-size","current-page","total"])]),_:1}),a(q,{modelValue:f.value,"onUpdate:modelValue":n[5]||(n[5]=l=>f.value=l),title:s.id?o(e)("Update"):o(e)("Create"),width:"800"},{default:t(()=>[a(x,{class:"dialog-form",ref:"form",model:s,"label-width":"120px"},{default:t(()=>[a(g,{label:o(e)("Name"),prop:"name",required:""},{default:t(()=>[a(A,{modelValue:s.name,"onUpdate:modelValue":n[2]||(n[2]=l=>s.name=l)},null,8,["modelValue"])]),_:1},8,["label"]),a(g,{label:o(e)("Type"),prop:"type",required:""},{default:t(()=>[a(E,{modelValue:s.type,"onUpdate:modelValue":n[3]||(n[3]=l=>s.type=l)},{default:t(()=>[(y(),v(J,null,K(S,l=>a(G,{key:l.value,label:l.value,style:{display:"block"}},{default:t(()=>[m(p(l.label)+" ",1),W("span",ae,p(l.note),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(g,null,{default:t(()=>[a(c,{onClick:n[4]||(n[4]=l=>f.value=!1)},{default:t(()=>[m(p(o(e)("Cancel")),1)]),_:1}),a(c,{onClick:N,type:"primary"},{default:t(()=>[m(p(o(e)("Submit")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}};export{ce as default};
