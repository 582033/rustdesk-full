import{l as pe,c as me,b as Fe,r as Pe,u as Ie}from"./peer-DzPg3Mq6.js";import{l as Re}from"./device_group-CfjtSijj.js";import{u as qe,d as Ee,c as Me,t as Ne,e as je}from"./peer-HGjDncml.js";import{T as o,_ as He,d as Ge}from"../entry/index-Czm67r7X.js";import{t as Qe}from"./time-B3DnmeFu.js";import{j as We,d as Je}from"./file-Dmzv2BFm.js";import{l as be}from"./global-Czwz-x68.js";import{h as Ye}from"./clipboard-CMGTTqw4.js";import{u as Ke}from"./collection-CALyNR1w.js";import{b as B,c as ce}from"./_element-plus-T6dmKOyC.js";import{l as Y,an as g,b as c,o as s,Y as n,e,_ as k,u as l,c as A,P as S,ah as T,a0 as _,a1 as m,x as J,aa as Xe,w as fe,r as $,m as Ze,at as el,a as h,Z as ll,V as al}from"./_@vue-DEM3y_BF.js";import{U as tl,V as _e,W as ol,T as nl,X as sl}from"./_@element-plus-CvluYIrs.js";import"./__vendor-BGruaAdM.js";import"./index-B1Bs_yz0.js";import"./_axios-BtuGy7By.js";import"./_@popperjs-DB1lLFnh.js";const il={__name:"createABForm",props:{peer:{type:Object,required:!0}},emits:["cancel","success"],setup(ie,{emit:ee}){const z=ee,le=ie,{allUsers:ue,getAllUsers:F}=be();Y(F);const{platformList:v,formData:d,changeUserForUpdate:K,changeCollectionForUpdate:ae,collectionListResForUpdate:D,tagListRes:u,fromPeer:te}=qe("admin");Y(()=>{te(le.peer),console.log(D)});const oe=async q=>{d.collection_id=0,d.tags=[],q.length===1&&K(q[0]),q.length===0&&(D.list=[])},ne=async()=>{if(d.user_ids.length===0){B.error(o("ParamRequired",{param:o("Owner")}));return}if(!d.id){B.error(o("ParamRequired",{param:"ID"}));return}d.user_ids.length>1&&(d.collection_id=0,d.tags=[]),await Ee(d).catch(V=>!1)&&(B.success(o("OperationSuccess")),z("success"))},X=()=>{z("cancel")};return(q,V)=>{const P=g("el-option"),j=g("el-select"),x=g("el-form-item"),L=g("el-input"),H=g("el-button"),se=g("el-form");return s(),c(se,{class:"dialog-form",ref:"form",model:l(d),"label-width":"120px"},{default:n(()=>[e(x,{label:l(o)("Owner"),prop:"user_ids",required:""},{default:n(()=>[e(j,{modelValue:l(d).user_ids,"onUpdate:modelValue":V[0]||(V[0]=r=>l(d).user_ids=r),multiple:"",onChange:oe},{default:n(()=>[(s(!0),A(S,null,T(l(ue),r=>(s(),c(P,{key:r.id,label:r.username,value:r.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(d).user_ids.length<=1?(s(),c(x,{key:0,label:l(o)("AddressBookName"),required:"",prop:"collection_id"},{default:n(()=>[e(j,{modelValue:l(d).collection_id,"onUpdate:modelValue":V[1]||(V[1]=r=>l(d).collection_id=r),clearable:"",onChange:l(ae)},{default:n(()=>[e(P,{value:0,label:l(o)("MyAddressBook")},null,8,["label"]),(s(!0),A(S,null,T(l(D).list,r=>(s(),c(P,{key:r.id,label:r.name,value:r.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1},8,["label"])):k("",!0),e(x,{label:"ID",prop:"id",required:""},{default:n(()=>[e(L,{modelValue:l(d).id,"onUpdate:modelValue":V[2]||(V[2]=r=>l(d).id=r)},null,8,["modelValue"])]),_:1}),e(x,{label:l(o)("Username"),prop:"username"},{default:n(()=>[e(L,{modelValue:l(d).username,"onUpdate:modelValue":V[3]||(V[3]=r=>l(d).username=r)},null,8,["modelValue"])]),_:1},8,["label"]),e(x,{label:l(o)("Alias"),prop:"alias"},{default:n(()=>[e(L,{modelValue:l(d).alias,"onUpdate:modelValue":V[4]||(V[4]=r=>l(d).alias=r)},null,8,["modelValue"])]),_:1},8,["label"]),e(x,{label:l(o)("Hostname"),prop:"hostname"},{default:n(()=>[e(L,{modelValue:l(d).hostname,"onUpdate:modelValue":V[5]||(V[5]=r=>l(d).hostname=r)},null,8,["modelValue"])]),_:1},8,["label"]),e(x,{label:l(o)("Platform"),prop:"platform"},{default:n(()=>[e(j,{modelValue:l(d).platform,"onUpdate:modelValue":V[6]||(V[6]=r=>l(d).platform=r)},{default:n(()=>[(s(!0),A(S,null,T(l(v),r=>(s(),c(P,{key:r.value,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(d).user_ids.length<=1?(s(),c(x,{key:1,label:l(o)("Tags"),prop:"tags"},{default:n(()=>[e(j,{modelValue:l(d).tags,"onUpdate:modelValue":V[7]||(V[7]=r=>l(d).tags=r),multiple:""},{default:n(()=>[(s(!0),A(S,null,T(l(u).list,r=>(s(),c(P,{key:r.name,label:r.name,value:r.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):k("",!0),e(x,null,{default:n(()=>[e(H,{onClick:X},{default:n(()=>[_(m(l(o)("Cancel")),1)]),_:1}),e(H,{onClick:ne,type:"primary"},{default:n(()=>[_(m(l(o)("Submit")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}},ul={class:"el-upload__text"},rl={class:"el-upload__tip"},dl={style:{"text-align":"right","margin-bottom":"10px"}},pl={class:"last_oline_time"},ml={key:0},cl={key:1},fl={style:{width:"200px"}},_l=["onClick"],bl=["onClick"],vl={slot:"footer",class:"dialog-footer"},gl={__name:"index",setup(ie){const ee=Ge(),z=J({list:[],total:0,loading:!1}),le=J({page:1,page_size:999});Y(async()=>{z.loading=!0;const i=await Re(le).catch(t=>!1);z.loading=!1,i&&(z.list=i.data.list,z.total=i.data.total)});const F=J({list:[],total:0,loading:!1}),v=J({page:1,page_size:10,time_ago:null,id:"",hostname:"",username:"",ip:""}),d=async()=>{F.loading=!0;const i=await pe(v).catch(t=>!1);F.loading=!1,i&&(F.list=i.data.list,F.total=i.data.total)},K=()=>{v.page===1?d():v.page=1},ae=async i=>{if(!await ce.confirm(o("Confirm?",{param:o("Delete")}),{confirmButtonText:o("Confirm"),cancelButtonText:o("Cancel"),type:"warning"}).catch(p=>!1))return!1;await Pe({row_id:i.row_id}).catch(p=>!1)&&(B.success(o("OperationSuccess")),d())};Y(d),Xe(d),fe(()=>v.page,d),fe(()=>v.page_size,K);const D=$(!1),u=J({row_id:0,group_id:null,cpu:"",hostname:"",id:"",memory:"",os:"",username:"",uuid:"",version:""}),te=i=>{D.value=!0,Object.keys(u).forEach(t=>{u[t]=i[t]})},oe=()=>{D.value=!0,u.row_id=0,u.cpu="",u.hostname="",u.id="",u.memory="",u.os="",u.username="",u.uuid="",u.version=""},ne=async()=>{await(u.row_id?Ie:me)(u).catch(f=>!1)&&(B.success(o("OperationSuccess")),D.value=!1,d())},X=i=>{let t=new Date().getTime(),f=new Date(i*1e3).getTime();return(t-f)/1e3},q=Ze(()=>[{text:o("MinutesLess",{param:1},1),value:-60},{text:o("HoursLess",{param:1},1),value:-3600},{text:o("DaysLess",{param:1},1),value:-86400},{text:"---------",value:0},{text:o("MinutesAgo",{param:1},1),value:60},{text:o("HoursAgo",{param:1},1),value:3600},{text:o("DaysAgo",{param:1},1),value:86400},{text:o("MonthsAgo",{param:1},1),value:2592e3}]),V=async()=>{const i={...v};i.page_size=1e4,i.page=1;const t=await pe(i).catch(f=>!1);if(t){const f=t.data.list.map(w=>(w.last_online_time=w.last_online_time?new Date(w.last_online_time*1e3).toLocaleString():"-",delete w.user_id,delete w.user,w)),p=We(f);Je(p,"peers.csv")}},P=$(!1),j=["id","cpu","hostname","memory","os","username","uuid","version","group_id"],x=i=>{const t=new FileReader;return t.onload=async f=>{const p=f.target.result;console.log(p);const w=p.split(`
`),E=w[0].split(",");console.log(E,w.slice(1).map(U=>U.split(",")));const b=w.slice(1).map(U=>{const R={};return U.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).forEach((W,C)=>{R[E[C]]=W.trim().replace(/^"|"$/g,"")}),R}).filter(U=>U.id);b.forEach(U=>{U.group_id=parseInt(U.group_id),Object.keys(U).forEach(R=>{j.includes(R)||delete U[R]})}),console.log(b);const M=[];b.map(U=>{M.push(me(U))}),await Promise.all(M).catch(U=>!1)&&(B.success(o("OperationSuccess")),d())},t.readAsText(i),!1},L=$(!1),H=$({}),se=i=>{H.value=i,L.value=!0},r=$([]),ve=i=>{r.value=i},ge=async()=>{if(!r.value.length)return B.warning(o("PleaseSelectData")),!1;if(!await ce.confirm(o("Confirm?",{param:o("BatchDelete")}),{confirmButtonText:o("Confirm"),cancelButtonText:o("Cancel"),type:"warning"}).catch(f=>!1))return!1;await Fe({row_ids:r.value.map(f=>f.row_id)}).catch(f=>!1)&&(B.success(o("OperationSuccess")),d())},{allUsers:Ve,getAllUsers:ye}=be();Y(ye);const{listRes:Ce,listQuery:re,getList:ke}=Ke("admin");re.page_size=9999;const we=i=>{I.value.collection_id=0,re.user_id=i,ke()},G=$(!1),Ue=()=>{G.value=!0},I=$({collection_id:0,tags:[],peer_ids:[],user_id:null}),he=async()=>{if(r.value.length===0)return B.warning(o("PleaseSelectData")),!1;if(I.value.peer_ids=r.value.map(t=>t.row_id),!I.value.peer_ids.length)return B.warning(o("PleaseSelectData")),!1;await je(I.value).catch(t=>!1)&&(B.success(o("OperationSuccess")),G.value=!1)},Q=$(!1),Ae=$([{name:"id",visible:!0,label:"Id"},{name:"cpu",visible:!0,label:"Cpu"},{name:"hostname",visible:!0,label:"Hostname"},{name:"memory",visible:!0,label:"Memory"},{name:"os",visible:!0,label:"Os"},{name:"last_online_time",visible:!0,label:"LastOnlineTime"},{name:"last_online_ip",visible:!0,label:"LastOnlineIp"},{name:"username",visible:!0,label:"Username"},{name:"group_id",visible:!0,label:"Group"},{name:"uuid",visible:!0,label:"Uuid"},{name:"version",visible:!0,label:"Version"},{name:"alias",visible:!0,label:"Alias"},{name:"created_at",visible:!0,label:"CreatedAt"},{name:"updated_at",visible:!0,label:"UpdatedAt"}]),O=$(JSON.parse(localStorage.getItem("peer_visible_columns"))||Ae.value),Be=()=>{Q.value=!0},xe=()=>{localStorage.setItem("peer_visible_columns",JSON.stringify(O.value)),B.success(o("OperationSuccess")),Q.value=!1},Se=i=>{if(i===0)return;const t=O.value[i];O.value.splice(i,1),O.value.splice(i-1,0,t)},De=i=>{if(i===O.value.length-1)return;const t=O.value[i];O.value.splice(i,1),O.value.splice(i+1,0,t)};return(i,t)=>{const f=g("el-input"),p=g("el-form-item"),w=g("el-option"),E=g("el-select"),b=g("el-button"),M=g("el-icon"),de=g("el-upload"),U=g("el-popover"),R=g("el-form"),W=g("el-card"),C=g("el-table-column"),Le=g("el-tag"),Oe=g("el-table"),$e=g("el-pagination"),Z=g("el-dialog"),Te=g("el-checkbox"),ze=el("loading");return s(),A("div",null,[e(W,{class:"list-query",shadow:"hover"},{default:n(()=>[e(R,{inline:"","label-width":"60px"},{default:n(()=>[e(p,{label:"ID"},{default:n(()=>[e(f,{modelValue:v.id,"onUpdate:modelValue":t[0]||(t[0]=a=>v.id=a),clearable:""},null,8,["modelValue"])]),_:1}),e(p,{label:l(o)("Hostname")},{default:n(()=>[e(f,{modelValue:v.hostname,"onUpdate:modelValue":t[1]||(t[1]=a=>v.hostname=a),clearable:""},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(o)("LastOnlineTime"),"label-width":"100px"},{default:n(()=>[e(E,{modelValue:v.time_ago,"onUpdate:modelValue":t[2]||(t[2]=a=>v.time_ago=a),clearable:""},{default:n(()=>[(s(!0),A(S,null,T(q.value,a=>(s(),c(w,{key:a.value,label:a.text,value:a.value,disabled:a.value===0},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(o)("Username")},{default:n(()=>[e(f,{modelValue:v.username,"onUpdate:modelValue":t[3]||(t[3]=a=>v.username=a),clearable:""},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:"IP"},{default:n(()=>[e(f,{modelValue:v.ip,"onUpdate:modelValue":t[4]||(t[4]=a=>v.ip=a),clearable:""},null,8,["modelValue"])]),_:1}),e(p,null,{default:n(()=>[e(b,{type:"primary",onClick:K},{default:n(()=>[_(m(l(o)("Filter")),1)]),_:1}),e(b,{type:"danger",onClick:oe},{default:n(()=>[_(m(l(o)("Add")),1)]),_:1}),e(b,{type:"success",onClick:V},{default:n(()=>[_(m(l(o)("Export")),1)]),_:1}),e(U,{visible:P.value,placement:"bottom",width:600},{reference:n(()=>[e(b,{onClick:t[6]||(t[6]=a=>P.value=!0),type:"danger",icon:l(_e)},{default:n(()=>[_(m(l(o)("Import")),1)]),_:1},8,["icon"])]),default:n(()=>[e(de,{class:"upload-demo",drag:"",accept:".csv","before-upload":x},{tip:n(()=>[h("div",rl,[_(m(l(o)("Please upload csv file"))+" ",1),t[30]||(t[30]=h("br",null,null,-1)),_(" "+m(l(o)("Columns"))+": ",1),t[31]||(t[31]=h("span",{style:{"font-weight":"bold","font-size":"15px"}},"id,cpu,hostname,memory,os,username,uuid,version,group_id",-1)),t[32]||(t[32]=h("br",null,null,-1)),h("span",null,m(l(o)("You can reference export file")),1)])]),default:n(()=>[e(M,{class:"el-icon--upload"},{default:n(()=>[e(l(tl))]),_:1}),h("div",ul,m(l(o)("Drop file here or click to upload")),1)]),_:1}),e(b,{onClick:t[5]||(t[5]=a=>P.value=!1),type:"primary"},{default:n(()=>[_(m(l(o)("Cancel")),1)]),_:1})]),_:1},8,["visible"]),e(b,{type:"danger",onClick:ge},{default:n(()=>[_(m(l(o)("BatchDelete")),1)]),_:1}),e(b,{type:"primary",onClick:Ue},{default:n(()=>[_(m(l(o)("BatchAddToAB")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(W,{class:"list-body",shadow:"hover"},{default:n(()=>[h("div",dl,[e(b,{icon:l(ol),onClick:Be},null,8,["icon"])]),ll((s(),c(Oe,{data:F.list,border:"",size:"small",onSelectionChange:ve},{default:n(()=>[e(C,{type:"selection",width:"55",align:"center"}),(s(!0),A(S,null,T(O.value.filter(a=>a.visible),a=>(s(),A(S,{key:a},[a.name==="id"?(s(),c(C,{key:0,prop:"id",label:"ID",align:"center",width:"150"},{default:n(({row:y})=>[h("span",null,[_(m(y.id)+" ",1),e(M,{onClick:N=>l(Ye)(y.id,N)},{default:n(()=>[e(l(nl))]),_:2},1032,["onClick"])])]),_:1})):k("",!0),a.name==="cpu"?(s(),c(C,{key:1,prop:"cpu",label:"CPU",align:"center",width:"100","show-overflow-tooltip":""})):k("",!0),a.name==="hostname"?(s(),c(C,{key:2,prop:"hostname",label:l(o)("Hostname"),align:"center",width:"120"},null,8,["label"])):k("",!0),a.name==="memory"?(s(),c(C,{key:3,prop:"memory",label:l(o)("Memory"),align:"center",width:"120"},null,8,["label"])):k("",!0),a.name==="os"?(s(),c(C,{key:4,prop:"os",label:l(o)("Os"),align:"center",width:"120","show-overflow-tooltip":""},null,8,["label"])):k("",!0),a.name==="last_online_time"?(s(),c(C,{key:5,prop:"last_online_time",label:l(o)("LastOnlineTime"),align:"center","min-width":"120"},{default:n(({row:y})=>[h("div",pl,[h("span",null,m(y.last_online_time?l(Qe)(y.last_online_time*1e3):"-"),1),t[33]||(t[33]=_()),h("span",{class:al(["dot",{red:X(y.last_online_time)>=60,green:X(y.last_online_time)<60}])},null,2)])]),_:1},8,["label"])):k("",!0),a.name==="last_online_ip"?(s(),c(C,{key:6,prop:"last_online_ip",label:l(o)("LastOnlineIp"),align:"center","min-width":"120"},null,8,["label"])):k("",!0),a.name==="username"?(s(),c(C,{key:7,prop:"username",label:l(o)("Username"),align:"center",width:"120"},null,8,["label"])):k("",!0),a.name==="group_id"?(s(),c(C,{key:8,prop:"group_id",label:l(o)("Group"),align:"center",width:"120"},{default:n(({row:y})=>[y.group_id?(s(),A("span",ml,[e(Le,null,{default:n(()=>[_(m(z.list?.find(N=>N.id===y.group_id)?.name),1)]),_:2},1024)])):(s(),A("span",cl," - "))]),_:1},8,["label"])):k("",!0),a.name==="uuid"?(s(),c(C,{key:9,prop:"uuid",label:l(o)("Uuid"),align:"center",width:"120","show-overflow-tooltip":""},null,8,["label"])):k("",!0),a.name==="version"?(s(),c(C,{key:10,prop:"version",label:l(o)("Version"),align:"center",width:"80"},null,8,["label"])):k("",!0),a.name==="alias"?(s(),c(C,{key:11,prop:"alias",label:l(o)("Alias"),align:"center",width:"80"},null,8,["label"])):k("",!0),a.name==="created_at"?(s(),c(C,{key:12,prop:"created_at",label:l(o)("CreatedAt"),align:"center",width:"150"},null,8,["label"])):k("",!0),a.name==="updated_at"?(s(),c(C,{key:13,prop:"updated_at",label:l(o)("UpdatedAt"),align:"center",width:"150"},null,8,["label"])):k("",!0)],64))),128)),e(C,{label:l(o)("Actions"),align:"center",width:"500","class-name":"table-actions",fixed:"right"},{default:n(({row:a})=>[e(b,{type:"success",onClick:y=>l(Me)(a.id)},{default:n(()=>[_(m(l(o)("Link")),1)]),_:2},1032,["onClick"]),l(ee).setting.appConfig.web_client?(s(),c(b,{key:0,type:"success",onClick:y=>l(Ne)(a)},{default:n(()=>t[34]||(t[34]=[_("Web Client")])),_:2},1032,["onClick"])):k("",!0),e(b,{type:"primary",onClick:y=>se(a)},{default:n(()=>[_(m(l(o)("AddToAddressBook")),1)]),_:2},1032,["onClick"]),e(b,{onClick:y=>te(a)},{default:n(()=>[_(m(l(o)("Edit")),1)]),_:2},1032,["onClick"]),e(b,{type:"danger",onClick:y=>ae(a)},{default:n(()=>[_(m(l(o)("Delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[ze,F.loading]])]),_:1}),e(W,{class:"list-page",shadow:"hover"},{default:n(()=>[e($e,{background:"",layout:"prev, pager, next, sizes, jumper","page-sizes":[10,20,50,100],"page-size":v.page_size,"onUpdate:pageSize":t[7]||(t[7]=a=>v.page_size=a),"current-page":v.page,"onUpdate:currentPage":t[8]||(t[8]=a=>v.page=a),total:F.total},null,8,["page-size","current-page","total"])]),_:1}),e(Z,{modelValue:D.value,"onUpdate:modelValue":t[20]||(t[20]=a=>D.value=a),title:u.row_id?l(o)("Update"):l(o)("Create"),width:"800"},{default:n(()=>[e(R,{class:"dialog-form",ref:"form",model:u,"label-width":"120px"},{default:n(()=>[e(p,{label:"ID",prop:"id",required:""},{default:n(()=>[e(f,{modelValue:u.id,"onUpdate:modelValue":t[9]||(t[9]=a=>u.id=a)},null,8,["modelValue"])]),_:1}),e(p,{label:l(o)("Group"),prop:"group_id"},{default:n(()=>[e(E,{modelValue:u.group_id,"onUpdate:modelValue":t[10]||(t[10]=a=>u.group_id=a)},{default:n(()=>[(s(!0),A(S,null,T(z.list,a=>(s(),c(w,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(o)("Username"),prop:"username"},{default:n(()=>[e(f,{modelValue:u.username,"onUpdate:modelValue":t[11]||(t[11]=a=>u.username=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(o)("Hostname"),prop:"hostname"},{default:n(()=>[e(f,{modelValue:u.hostname,"onUpdate:modelValue":t[12]||(t[12]=a=>u.hostname=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:"CPU",prop:"cpu"},{default:n(()=>[e(f,{modelValue:u.cpu,"onUpdate:modelValue":t[13]||(t[13]=a=>u.cpu=a)},null,8,["modelValue"])]),_:1}),e(p,{label:l(o)("Memory"),prop:"memory"},{default:n(()=>[e(f,{modelValue:u.memory,"onUpdate:modelValue":t[14]||(t[14]=a=>u.memory=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(o)("Os"),prop:"os"},{default:n(()=>[e(f,{modelValue:u.os,"onUpdate:modelValue":t[15]||(t[15]=a=>u.os=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(o)("Uuid"),prop:"uuid"},{default:n(()=>[e(f,{modelValue:u.uuid,"onUpdate:modelValue":t[16]||(t[16]=a=>u.uuid=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(o)("Version"),prop:"version"},{default:n(()=>[e(f,{modelValue:u.version,"onUpdate:modelValue":t[17]||(t[17]=a=>u.version=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(o)("Alias"),prop:"alias"},{default:n(()=>[e(f,{modelValue:u.alias,"onUpdate:modelValue":t[18]||(t[18]=a=>u.alias=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(p,null,{default:n(()=>[e(b,{onClick:t[19]||(t[19]=a=>D.value=!1)},{default:n(()=>[_(m(l(o)("Cancel")),1)]),_:1}),e(b,{onClick:ne,type:"primary"},{default:n(()=>[_(m(l(o)("Submit")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(Z,{modelValue:L.value,"onUpdate:modelValue":t[23]||(t[23]=a=>L.value=a),width:"800",title:l(o)("Create"),"destroy-on-close":""},{default:n(()=>[e(il,{peer:H.value,onSuccess:t[21]||(t[21]=a=>L.value=!1),onCancel:t[22]||(t[22]=a=>L.value=!1)},null,8,["peer"])]),_:1},8,["modelValue","title"]),e(Z,{modelValue:G.value,"onUpdate:modelValue":t[27]||(t[27]=a=>G.value=a),width:"800",title:l(o)("Create")},{default:n(()=>[e(R,{class:"dialog-form",ref:"form",model:I.value,"label-width":"120px"},{default:n(()=>[e(p,{label:l(o)("Owner"),prop:"user_id",required:""},{default:n(()=>[e(E,{modelValue:I.value.user_id,"onUpdate:modelValue":t[24]||(t[24]=a=>I.value.user_id=a),onChange:we},{default:n(()=>[(s(!0),A(S,null,T(l(Ve),a=>(s(),c(w,{key:a.id,label:a.username,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(p,{label:l(o)("AddressBookName"),required:"",prop:"collection_id"},{default:n(()=>[e(E,{modelValue:I.value.collection_id,"onUpdate:modelValue":t[25]||(t[25]=a=>I.value.collection_id=a),clearable:""},{default:n(()=>[e(w,{value:0,label:l(o)("MyAddressBook")},null,8,["label"]),(s(!0),A(S,null,T(l(Ce).list,a=>(s(),c(w,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(p,null,{default:n(()=>[e(b,{onClick:t[26]||(t[26]=a=>G.value=!1)},{default:n(()=>[_(m(l(o)("Cancel")),1)]),_:1}),e(b,{onClick:he,type:"primary"},{default:n(()=>[_(m(l(o)("Submit")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(Z,{modelValue:Q.value,"onUpdate:modelValue":t[29]||(t[29]=a=>Q.value=a),title:"Column Setting"},{default:n(()=>[(s(!0),A(S,null,T(O.value,(a,y)=>(s(),A("div",{key:y,style:{"margin-bottom":"10px",display:"flex","align-items":"center"}},[h("div",fl,[e(Te,{modelValue:a.visible,"onUpdate:modelValue":N=>a.visible=N,label:!0},{default:n(()=>[_(m(l(o)(a.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),h("div",{onClick:N=>Se(y),style:{width:"100px",cursor:"pointer"}},[e(M,{size:20},{default:n(()=>[e(l(sl))]),_:1})],8,_l),h("div",{onClick:N=>De(y),style:{width:"100px",cursor:"pointer"}},[e(M,{size:20},{default:n(()=>[e(l(_e))]),_:1})],8,bl)]))),128)),h("span",vl,[e(b,{onClick:t[28]||(t[28]=a=>Q.value=!1)},{default:n(()=>[_(m(l(o)("Cancel")),1)]),_:1}),e(b,{type:"primary",onClick:xe},{default:n(()=>[_(m(l(o)("Save")),1)]),_:1})])]),_:1},8,["modelValue"])])}}},zl=He(gl,[["__scopeId","data-v-1fb9563e"]]);export{zl as default};
