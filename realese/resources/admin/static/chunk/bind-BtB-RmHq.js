import{i as x,b as B}from"./oauth-BZ1Fh4vz.js";import{aa as N,ab as O}from"./__vendor-BGruaAdM.js";import{_ as S,T as e}from"../entry/index-Czm67r7X.js";import{b}from"./_element-plus-T6dmKOyC.js";import{r as v,c as I,e as s,Y as t,an as l,o as w,a as u,a0 as m,a1 as o,u as c,b as T,_ as V}from"./_@vue-DEM3y_BF.js";import"./_axios-BtuGy7By.js";import"./_@element-plus-CvluYIrs.js";import"./_@popperjs-DB1lLFnh.js";const z={class:"oauth"},A={class:"impt"},E={class:"impt"},R={__name:"bind",setup(D){const i=v({}),C=N(),r=O(),_=C.params?.code;_||r.push("/"),(async()=>{const a=await x({code:_}).catch(d=>!1);a?i.value=a.data:r.push("/")})();const f=v(0),y=async()=>{const a=await B({code:_}).catch(d=>!1);a&&(f.value=1,a.data.device_type==="webadmin"?(b.success(e("OperationSuccess")),r.push("/")):(b.success(e("OperationSuccessAndCloseAfter3Seconds")),setTimeout(d=>{p()},3e3)))},p=()=>{window.close()};return(a,d)=>{const n=l("el-form-item"),h=l("el-button"),g=l("el-form"),k=l("el-card");return w(),I("div",z,[s(k,{class:"card"},{default:t(()=>[u("h2",null,o(c(e)("OauthBinding")),1),s(g,{class:"info","label-width":"100px"},{default:t(()=>[s(n,{label:c(e)("Op")},{default:t(()=>[u("div",A,o(i.value.op),1)]),_:1},8,["label"]),s(n,{label:c(e)("ThirdName")},{default:t(()=>[u("div",E,o(i.value.third_name),1)]),_:1},8,["label"]),s(n,{"label-width":"0"},{default:t(()=>[f.value?V("",!0):(w(),T(h,{key:0,style:{width:"100%"},type:"success",size:"large",onClick:y},{default:t(()=>[m(o(c(e)("Bind")),1)]),_:1}))]),_:1}),s(n,{"label-width":"0"},{default:t(()=>[s(h,{style:{width:"100%"},size:"large",onClick:p},{default:t(()=>[m(o(c(e)("Close")),1)]),_:1})]),_:1})]),_:1}),m(" "+o(c(e)("OauthCloseNote")),1)]),_:1})])}}},L=S(R,[["__scopeId","data-v-f07e104c"]]);export{L as default};
